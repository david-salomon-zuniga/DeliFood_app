{"version":3,"file":"component---src-pages-register-tsx.js","mappings":"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","sources":["webpack://gatsby-starter-default/./src/components/RegisterForm.tsx","webpack://gatsby-starter-default/./src/pages/register.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport styled from '@emotion/styled';\r\n\r\n\r\n// Styled components\r\nconst FormContainer = styled.div`\r\n  max-width: 400px;\r\n  margin: auto;\r\n  padding: 1em;\r\n  border: 1px solid #ccc;\r\n  border-radius: 10px;\r\n`;\r\n\r\nconst Input = styled.input`\r\n  width: 100%;\r\n  padding: 0.5em;\r\n  margin: 0.5em 0;\r\n  border: 1px solid #ccc;\r\n  border-radius: 5px;\r\n`;\r\n\r\nconst Button = styled.button`\r\n  padding: 0.5em 1em;\r\n  margin: 0.5em 0;\r\n  border: none;\r\n  border-radius: 5px;\r\n  background-color: #28a745;\r\n  color: white;\r\n  cursor: pointer;\r\n`;\r\n\r\nconst SocialButton = styled(Button)`\r\n  background-color: #4267B2; /* Facebook color */\r\n`;\r\n\r\nconst GoogleButton = styled(Button)`\r\n  background-color: #db4437; /* Google color */\r\n`;\r\n\r\ninterface FormData {\r\n  name: string;\r\n  email: string;\r\n  password: string;\r\n}\r\n\r\nconst RegisterForm: React.FC = () => {\r\n  const [formData, setFormData] = useState<FormData>({\r\n    name: '',\r\n    email: '',\r\n    password: '',\r\n  });\r\n\r\n  useEffect(() => {\r\n    window.fbAsyncInit = function() {\r\n      window.FB.init({\r\n        appId: '1620259025436267',  // YOUR_FACEBOOK_APP_ID -> 1620259025436267\r\n        cookie: true,\r\n        xfbml: true,\r\n        version: 'v12.0',\r\n      });\r\n    };\r\n\r\n    (function (d, s, id) {\r\n      const js: HTMLScriptElement | null = d.createElement(s) as HTMLScriptElement;\r\n      const fjs: HTMLScriptElement = d.getElementsByTagName(s)[0] as HTMLScriptElement;\r\n      if (d.getElementById(id)) {\r\n        return;\r\n      }\r\n      js.id = id;\r\n      js.src = 'https://connect.facebook.net/en_US/sdk.js';\r\n      fjs.parentNode?.insertBefore(js, fjs);\r\n    })(document, 'script', 'facebook-jssdk');\r\n\r\n    // Load Google API\r\n    const script = document.createElement('script');\r\n    script.src = 'https://apis.google.com/js/platform.js';\r\n    script.async = true;\r\n    script.defer = true;\r\n    document.body.appendChild(script);\r\n\r\n    return () => {\r\n      document.body.removeChild(script);\r\n    };\r\n  }, []);\r\n\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    setFormData({ ...formData, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n    try {\r\n      const response = await axios.post('/register', formData);\r\n      console.log('User registered successfully:', response.data);\r\n    } catch (error) {\r\n      console.error('Error registering user:', error);\r\n    }\r\n  };\r\n  \r\n\r\n  const handleGoogleSignIn = () => {\r\n    // Type assertion to let TypeScript know that window.gapi exists\r\n    const gapiAuth = (window as any).gapi.auth2;\r\n  \r\n    gapiAuth.load('auth2', () => {\r\n      const auth2 = gapiAuth.init({\r\n        client_id: 'YOUR_GOOGLE_CLIENT_ID',\r\n      });\r\n      auth2.signIn().then((googleUser: any) => { // 'any' type here because we don't have type definitions for GoogleUser\r\n        const idToken = googleUser.getAuthResponse().id_token;\r\n        axios\r\n          .post('/auth/google', { idToken })\r\n          .then((response) => {\r\n            console.log('User registered with Google:', response.data);\r\n          })\r\n          .catch((error) => {\r\n            console.error('Error registering with Google:', error);\r\n          });\r\n      });\r\n    });\r\n  };\r\n\r\n  const handleFacebookSignIn = () => {\r\n    window.FB.login((response: fb.StatusResponse) => {\r\n      if (response.authResponse) {\r\n        const accessToken = response.authResponse.accessToken;\r\n        axios\r\n          .post('/auth/facebook', { accessToken })\r\n          .then((res) => {\r\n            console.log('User registered with Facebook:', res.data);\r\n          })\r\n          .catch((err) => {\r\n            console.error('Error registering with Facebook:', err);\r\n          });\r\n      } else {\r\n        console.error('User cancelled login or did not fully authorize.');\r\n      }\r\n    }, { scope: 'public_profile,email' });\r\n  };\r\n\r\n  return (\r\n    <FormContainer>\r\n      <h2>Register</h2>\r\n      <form onSubmit={handleSubmit}>\r\n        <Input\r\n          type=\"text\"\r\n          name=\"name\"\r\n          placeholder=\"Name\"\r\n          value={formData.name}\r\n          onChange={handleChange}\r\n          required\r\n        />\r\n        <Input\r\n          type=\"email\"\r\n          name=\"email\"\r\n          placeholder=\"Email\"\r\n          value={formData.email}\r\n          onChange={handleChange}\r\n          required\r\n        />\r\n        <Input\r\n          type=\"password\"\r\n          name=\"password\"\r\n          placeholder=\"Password\"\r\n          value={formData.password}\r\n          onChange={handleChange}\r\n          required\r\n        />\r\n        <Button type=\"submit\">Register</Button>\r\n      </form>\r\n      <SocialButton onClick={handleFacebookSignIn}>Sign up with Facebook</SocialButton>\r\n      <GoogleButton onClick={handleGoogleSignIn}>Sign up with Google</GoogleButton>\r\n    </FormContainer>\r\n  );\r\n};\r\n\r\nexport default RegisterForm;\r\n","import React from 'react';\r\nimport RegisterForm from '../components/RegisterForm';\r\n\r\nconst RegisterPage: React.FC = () => (\r\n  <div>\r\n    <h1>Register</h1>\r\n    <RegisterForm />\r\n  </div>\r\n);\r\n\r\nexport default RegisterPage;\r\n"],"names":["React","useState","useEffect","axios","styled","FormContainer","div","Input","input","Button","button","SocialButton","GoogleButton","RegisterForm","formData","setFormData","name","email","password","window","fbAsyncInit","FB","init","appId","cookie","xfbml","version","d","s","id","js","createElement","fjs","getElementsByTagName","getElementById","src","parentNode","_fjs$parentNode","insertBefore","document","script","async","defer","body","appendChild","removeChild","handleChange","e","target","value","handleSubmit","preventDefault","response","post","console","log","data","error","handleGoogleSignIn","gapiAuth","gapi","auth2","load","client_id","signIn","then","googleUser","idToken","getAuthResponse","id_token","catch","handleFacebookSignIn","login","authResponse","accessToken","res","err","scope","onSubmit","type","placeholder","onChange","required","onClick","RegisterPage"],"sourceRoot":""}